# 社内向け Ansibleハンズオンネタ

(社内向けです)  

## 前提

あなたは現在担当中のPJで、IaC(Ansible)によるLinuxサーバ群の自動構築を行うことになりました。  
Ansible実行サーバ/構築対象サーバはセルフラーニング環境に存在する以下のサーバです。 (IPアドレスは自環境のものを使用して下さい)  

- Ansible実行サーバ
    - Exastro ITA
- 構築対象サーバ
    - Target Lin#1
    - Target Lin#2

IaCには以下の要件が求められています。  

- 対象サーバはリソース需要により今後増加、あるいは現象する可能性がある  
  サーバ台数が増加した場合でも楽に対応可能な、拡張性の高い自動化を行いたい  
- システムには「本番環境」「ステージング環境」「開発環境」などの複数のステージが存在する  
  環境間で使うPlaybookを別にする等の対応はなるべく無しで、同じPlaybookで複数の環境を扱えるようにしたい  
    - 環境間の差異はIPアドレス以外にはない想定で良い  
    - 構築対象サーバの2台は本番環境であり、まだステージング/開発環境は存在しない  
- 実装したIaCは構築フェーズだけではなく、運用フェーズでも利用が想定されている  
    - よって、繰り返し実行可能な実装が求められている  
      ※ 「特定の初期状態からしか実行できない」「2回目の実行は失敗する(1回しか実行できない)」等のPlaybookは求められている要件を満たさない  
- 運用上はオペミス減少を目的としてドライラン(チェックモード)での実行も想定している  
    - なるべくドライランが動作する状態を保つ必要がある
    - ただしこれはストレッチ目標であり、必ず達成する必要はない

## Section 1 - 基礎編

- [演習 1.1 - 環境の確認](1.1-setup/README.md)
- [演習 1.2 - Ad-hoc コマンドを実行してみよう](1.2-adhoc/README.md)
- [演習 1.3 - はじめてのPlaybook作成](1.3-first-playbook/README.md)
- [演習 1.4 - 変数を使ってみよう](1.4-variable/README.md)

